<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ ‚Äî v13.5.2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <!-- MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

  <link rel="stylesheet" href="style.css?v=13.5.2" />
</head>
<body>
  <header class="topbar">
    <h1>–ö–∞—Ç–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h1>
    <div class="version">ChatPatch v13.5.2</div>
    <a class="admin-link" href="admin.html" target="_blank">–ê–¥–º–∏–Ω–∫–∞ (–¥–µ—Ä–µ–≤–æ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)</a>
  </header>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <section class="filters card">
    <select id="cityFilter"><option value="">–ì–æ—Ä–æ–¥</option></select>
    <select id="districtFilter"><option value="">–†–∞–π–æ–Ω</option></select>
    <select id="streetFilter"><option value="">–ú–∞—Å—Å–∏–≤ / —É–ª–∏—Ü–∞</option></select>

    <select id="categoryFilter"><option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</option></select>
    <select id="statusFilter">
      <option value="">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</option>
      <option value="sale">–ü—Ä–æ–¥–∞–µ—Ç—Å—è</option>
      <option value="rent">–°–¥–∞–µ—Ç—Å—è</option>
      <option value="exchange">–û–±–º–µ–Ω</option>
    </select>

    <div class="range"><input id="priceMin" type="number" placeholder="–¶–µ–Ω–∞ –æ—Ç" /><input id="priceMax" type="number" placeholder="–¶–µ–Ω–∞ –¥–æ" /></div>
    <div class="range"><input id="roomsMin" type="number" placeholder="–ö–æ–º–Ω–∞—Ç –æ—Ç" /><input id="roomsMax" type="number" placeholder="–ö–æ–º–Ω–∞—Ç –¥–æ" /></div>
    <div class="range"><input id="floorMin" type="number" placeholder="–≠—Ç–∞–∂ –æ—Ç" /><input id="floorMax" type="number" placeholder="–≠—Ç–∞–∂ –¥–æ" /></div>
    <div class="range"><input id="floorsMin" type="number" placeholder="–≠—Ç–∞–∂–Ω–æ—Å—Ç—å –æ—Ç" /><input id="floorsMax" type="number" placeholder="–≠—Ç–∞–∂–Ω–æ—Å—Ç—å –¥–æ" /></div>
    <div class="range"><input id="areaMin" type="number" step="0.1" placeholder="–ü–ª–æ—â–∞–¥—å –æ—Ç" /><input id="areaMax" type="number" step="0.1" placeholder="–ü–ª–æ—â–∞–¥—å –¥–æ" /></div>
    <div class="range"><input id="yearMin" type="number" placeholder="–ì–æ–¥ –æ—Ç" /><input id="yearMax" type="number" placeholder="–ì–æ–¥ –¥–æ" /></div>

    <select id="houseTypeFilter">
      <option value="">–¢–∏–ø –¥–æ–º–∞</option>
      <option value="brick">–ö–∏—Ä–ø–∏—á–Ω—ã–π</option>
      <option value="panel">–ü–∞–Ω–µ–ª—å–Ω—ã–π</option>
      <option value="block">–ë–ª–æ—á–Ω—ã–π</option>
      <option value="monolithic">–ú–æ–Ω–æ–ª–∏—Ç</option>
      <option value="wood">–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π</option>
    </select>

    <select id="sortSelect">
      <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
      <option value="priceAsc">–¶–µ–Ω–∞ ‚Üë</option>
      <option value="priceDesc">–¶–µ–Ω–∞ ‚Üì</option>
      <option value="dateNew">–ù–æ–≤—ã–µ</option>
      <option value="dateOld">–°—Ç–∞—Ä—ã–µ</option>
    </select>

    <label class="only-fav"><input id="onlyFav" type="checkbox" /> –¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ</label>
    <button id="resetFilters" class="btn ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>

    <div id="filtersInfo" class="hint" style="grid-column:1/-1;display:none"></div>
    <!-- üî• –Ω–æ–≤—ã–π –±–ª–æ–∫ -->
    <div id="adminSyncInfo" class="hint" style="grid-column:1/-1;"></div>

    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
    <div id="dynamicParamsFilters" class="params-box" style="grid-column:1/-1;"></div>

    <div class="tools" style="grid-column:1/-1">
      <button id="exportJson" class="btn">–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
      <button id="importJsonBtn" class="btn">–ò–º–ø–æ—Ä—Ç JSON</button>
      <input id="importJson" type="file" accept="application/json" hidden />
      <button id="exportCsv" class="btn ghost">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
    </div>
  </section>

  <section id="mapContainer" class="card"><div id="map"></div></section>
  <section id="results" class="card"><div id="resultsList" class="grid"></div></section>

  <!-- –§–æ—Ä–º–∞ -->
  <section class="card">
    <h2 id="formTitle">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</h2>
    <form id="objectForm">
      <div class="form-row">
        <select id="category" required></select>
        <select id="status" required>
          <option value="sale">–ü—Ä–æ–¥–∞–µ—Ç—Å—è</option>
          <option value="rent">–°–¥–∞–µ—Ç—Å—è</option>
          <option value="exchange">–û–±–º–µ–Ω</option>
        </select>
      </div>
      <div class="form-row">
        <select id="city"></select>
        <select id="district"></select>
        <select id="street"></select>
      </div>
      <div class="form-row">
        <div class="range"><input id="rooms" type="number" placeholder="–ö–æ–º–Ω–∞—Ç—ã" /><input id="year" type="number" placeholder="–ì–æ–¥" /></div>
        <div class="range"><input id="price" type="number" placeholder="–¶–µ–Ω–∞" /><input id="area" type="number" step="0.1" placeholder="–ü–ª–æ—â–∞–¥—å" /></div>
        <div class="range"><input id="floor" type="number" placeholder="–≠—Ç–∞–∂" /><input id="floors" type="number" placeholder="–≠—Ç–∞–∂–Ω–æ—Å—Ç—å" /></div>
      </div>
      <div class="form-row">
        <input id="title" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" />
        <input id="address" type="text" placeholder="–ê–¥—Ä–µ—Å" />
        <select id="houseType">
          <option value="">–¢–∏–ø –¥–æ–º–∞</option>
          <option value="brick">–ö–∏—Ä–ø–∏—á–Ω—ã–π</option>
          <option value="panel">–ü–∞–Ω–µ–ª—å–Ω—ã–π</option>
          <option value="block">–ë–ª–æ—á–Ω—ã–π</option>
          <option value="monolithic">–ú–æ–Ω–æ–ª–∏—Ç</option>
          <option value="wood">–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π</option>
        </select>
      </div>
      <!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
      <div id="dynamicParamsForm" class="params-box"></div>
      <div class="form-row">
        <button id="pickOnMap" type="button" class="btn">–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ</button>
        <span id="coordsBadge" class="badge muted">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã</span>
        <input id="images" type="file" accept="image/*" multiple />
      </div>
      <div id="imagePreview" class="preview"></div>
      <div class="form-actions">
        <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="cancelEdit" type="button" class="btn ghost">–û—Ç–º–µ–Ω–∞</button>
        <button id="clearForm" type="button" class="btn danger ghost">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
    </form>
  </section>

  <footer class="footer">–í–µ—Ä—Å–∏—è: ChatPatch v13.5.2</footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/markercluster.js"></script>
  <script src="script.js?v=13.5.2"></script>
</body>
</html>
