<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySale ‚Äî –ê–¥–º–∏–Ω –≤–∏—Ç—Ä–∏–Ω—ã</title>
<style>
  :root{
    --bg1:#F8D49A;
    --bg2:#F2B35E;
    --surface:#FFFFFF;
    --text:#2A2A2A;
    --accent:#FF7A00;
    --radius:16px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,Helvetica,sans-serif;color:var(--text);background:#f4f4f4}
  .wrap{display:grid;grid-template-columns:320px 1fr;gap:14px;min-height:100vh;padding:12px}
  .panel{background:#fff;border:1px solid #e6e6e6;border-radius:12px;padding:12px;position:sticky;top:12px;height:calc(100vh - 24px);overflow:auto}
  .panel h3{margin:10px 0 8px;font-size:15px}
  .row{display:flex;gap:8px;margin:6px 0}
  label{font-size:12px;color:#6b6b6b;display:block;margin:8px 0 4px}
  input[type=text],input[type=number],input[type=url],select,textarea{width:100%;border:1px solid #ddd;border-radius:8px;padding:9px 10px;font:inherit;background:#fff}
  input[type=color]{width:42px;height:32px;border:1px solid #ddd;border-radius:6px;padding:0;appearance:none}
  button{border:0;border-radius:8px;padding:8px 12px;background:#2e7d32;color:#fff;cursor:pointer}
  button.sec{background:#006dc1}
  button.ghost{background:#eee;color:#333}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
  .preview{background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 120%);border:1px solid #e6e6e6;border-radius:16px;padding:18px;min-height:calc(100vh - 24px);position:relative;overflow:hidden}
  .grid{display:grid;grid-template-columns:repeat(var(--cols,4),1fr);gap:24px}
  .brand-area{display:flex;align-items:center;gap:10px;user-select:none;position:relative}
  .brand-logo{width:56px;height:56px;border-radius:14px;display:inline-grid;place-items:center;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.12)}
  .brand-logo img{max-width:48px;max-height:48px;display:block}
  .brand-title{font-weight:800;font-size:52px;letter-spacing:.5px;color:#1a8917}
  .brand-title span.orange{color:#ff6c00}
  .brand-title span.green{color:#1a8917}
  .drag{position:absolute;inset:0;cursor:move}
  .card{width:260px;min-height:120px;background:var(--surface);border-radius:var(--radius);box-shadow:0 8px 28px rgba(0,0,0,.12);border:1px solid rgba(0,0,0,.08);padding:14px 14px 16px 14px;position:relative;user-select:none;overflow:hidden}
  .card.circle{aspect-ratio:1/1;border-radius:999px;width:160px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}
  .card.oval{border-radius:999px}
  .card .icon{font-size:26px}
  .card h4{margin:6px 0 4px;font-size:18px;color:var(--accent)}
  .card p{margin:0;font-size:13px;color:#666;word-break:break-word}
  .corner{position:absolute;right:8px;top:8px;background:#fff;border:1px solid #eee;border-radius:999px;width:28px;height:28px;display:grid;place-items:center;box-shadow:0 2px 8px rgba(0,0,0,.12);font-size:15px;color:#9b9b9b}
  .k{display:flex;gap:8px;align-items:center}
  .muted{color:#888;font-size:12px}
  .hr{height:1px;background:#eee;margin:10px 0}
  .badge{background:#fff6eb;color:#c25d00;border:1px solid #ffd7a3;border-radius:6px;padding:3px 8px;font-size:12px}
  .pill{border-radius:999px}
  .mini{font-size:12px}
  .shadow-none{box-shadow:none!important}
  .handle{position:absolute;inset:0;cursor:move}
  .row .grow{flex:1}
  .float-tip{position:absolute;left:12px;top:12px;font-size:12px;color:#444;background:rgba(255,255,255,.7);padding:4px 8px;border-radius:8px}
  .searchbar{display:flex;gap:8px}
  .searchbar input{flex:1;border-radius:12px}
</style>
</head>
<body>
<div class="wrap">
  <aside class="panel" id="panel">
    <div class="toolbar">
      <button id="btnExport">–≠–∫—Å–ø–æ—Ä—Ç</button>
      <button class="sec" id="btnImport">–ò–º–ø–æ—Ä—Ç</button>
      <input type="file" id="fileImport" accept=".json,application/json,.txt,.html" style="display:none"/>
      <button class="ghost" id="btnUndo">Undo</button>
      <button class="ghost" id="btnRedo">Redo</button>
    </div>
    <div class="hr"></div>

    <h3>–ë—Ä–µ–Ω–¥</h3>
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
    <input id="brandTitle" type="text" placeholder="MySale" value="MySale"/>
    <div class="row">
      <div class="grow">
        <label>–õ–æ–≥–æ—Ç–∏–ø (PNG/SVG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é)</label>
        <input id="logoInput" type="file" accept=".png,.svg,.jpg,.jpeg"/>
      </div>
    </div>
    <div class="row">
      <label class="k"><input type="checkbox" id="lockBrand"/> –ó–∞–∫—Ä–µ–ø–∏—Ç—å –±—Ä–µ–Ω–¥</label>
      <label class="k"><input type="checkbox" id="lockLogo"/> –ó–∞–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø</label>
    </div>

    <div class="hr"></div>
    <h3>–¢–µ–º–∞</h3>
    <div class="row">
      <div class="grow">
        <label>–§–æ–Ω –æ—Ç</label><input id="clrBg1" type="color" value="#F8D49A"/>
      </div>
      <div class="grow">
        <label>–§–æ–Ω –¥–æ</label><input id="clrBg2" type="color" value="#F2B35E"/>
      </div>
    </div>
    <div class="row">
      <div class="grow">
        <label>–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å</label><input id="clrSurface" type="color" value="#FFFFFF"/>
      </div>
      <div class="grow">
        <label>–¢–µ–∫—Å—Ç</label><input id="clrText" type="color" value="#2A2A2A"/>
      </div>
      <div class="grow">
        <label>–ê–∫—Ü–µ–Ω—Ç</label><input id="clrAccent" type="color" value="#FF7A00"/>
      </div>
    </div>
    <div class="row">
      <div class="grow">
        <label>–†–∞–¥–∏—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label><input id="radius" type="number" min="0" max="200" value="16"/>
      </div>
      <div class="grow">
        <label>–ö–æ–ª–æ–Ω–∫–∏</label><input id="cols" type="number" min="1" max="6" value="4"/>
      </div>
    </div>

    <div class="hr"></div>
    <h3>–†–µ–∂–∏–º</h3>
    <div class="row">
      <label class="k"><input type="checkbox" id="freeMove"/> –°–≤–æ–±–æ–¥–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ</label>
      <button class="ghost" id="btnResetPos">–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏</button>
    </div>

    <div class="hr"></div>
    <h3>–ö–∞—Ä—Ç–æ—á–∫–∏</h3>
    <div class="row">
      <button id="btnAdd">+ –ö–∞—Ä—Ç–æ—á–∫–∞</button>
      <button id="btnDel" class="ghost">–£–¥–∞–ª–∏—Ç—å</button>
    </div>
    <div class="row">
      <label>–ü–æ–∏—Å–∫ (–Ω–∞–¥ —Å–µ—Ç–∫–æ–π)</label>
      <select id="searchMode">
        <option value="off">–í—ã–∫–ª—é—á–µ–Ω</option>
        <option value="on" selected>–í–∫–ª—é—á–µ–Ω</option>
      </select>
    </div>
    <div id="cardEditor" style="display:none">
      <div class="hr"></div>
      <div class="badge">–†–µ–¥–∞–∫—Ç–æ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏</div>
      <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label><input id="edTitle" type="text" placeholder="–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"/>
      <label>–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫</label><input id="edHint" type="text" placeholder="–ö–≤–∞—Ä—Ç–∏—Ä—ã, –¥–æ–º–∞..."/>
      <label>–ò–∫–æ–Ω–∫–∞ (emoji/—Å–∏–º–≤–æ–ª)</label><input id="edIcon" type="text" placeholder="üè†"/>
      <label>–°—Å—ã–ª–∫–∞ (http‚Ä¶)</label><input id="edLink" type="url" placeholder="https://example.com"/>
      <div class="row">
        <div class="grow">
          <label>–§–æ—Ä–º–∞</label>
          <select id="edShape">
            <option value="rect">–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫</option>
            <option value="rounded" selected>–°–∫—Ä—É–≥–ª—ë–Ω–Ω–∞—è</option>
            <option value="pill">–ü–∏–ª—é–ª—è</option>
            <option value="oval">–û–≤–∞–ª</option>
            <option value="circle">–ö—Ä—É–≥</option>
          </select>
        </div>
        <div class="grow">
          <label>–®–∏—Ä–∏–Ω–∞</label><input id="edW" type="number" min="120" max="680" value="260"/>
        </div>
        <div class="grow">
          <label>–í—ã—Å–æ—Ç–∞</label><input id="edH" type="number" min="110" max="420" value="120"/>
        </div>
      </div>
      <div class="row">
        <div class="grow">
          <label>–†–∞–¥–∏—É—Å (–ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –æ–±—â–∏–π)</label><input id="edR" type="number" min="0" max="999" value="16"/>
        </div>
        <div class="grow">
          <label>–ì—Ä–∞–Ω–∏—Ü–∞</label><input id="edBorder" type="color" value="#E5E5E5"/>
        </div>
      </div>
    </div>
  </aside>

  <main class="preview" id="preview">
    <div class="float-tip">–ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ ¬´–°–≤–æ–±–æ–¥–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ¬ª –≤—ã–∫–ª—é—á–µ–Ω–æ)</div>

    <div class="brand-area" id="brandArea">
      <div class="brand-logo" id="brandLogo"><img id="logoImg" alt="logo" /></div>
      <div class="brand-title" id="brandTitleX">
        <span class="green">My</span><span class="orange">Sale</span>
      </div>
      <div class="handle" id="brandHandle" title="–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å"></div>
    </div>

    <div id="searchWrap" style="margin:14px 0 22px">
      <div class="searchbar">
        <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤, —É—Å–ª—É–≥ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π‚Ä¶"/>
        <button class="ghost" id="searchClear">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
    </div>

    <section id="grid" class="grid"></section>
  </main>
</div>

<script>
const $=(s,p=document)=>p.querySelector(s);
const $$=(s,p=document)=>Array.from(p.querySelectorAll(s));

let state=load()||def();
let history=[deep(state)]; let hPtr=0;
function pushH(){ history=history.slice(0,hPtr+1); history.push(deep(state)); hPtr=history.length-1; }
function undo(){ if(hPtr>0){ hPtr--; state=deep(history[hPtr]); save(); renderAll(); }}
function redo(){ if(hPtr<history.length-1){ hPtr++; state=deep(history[hPtr]); save(); renderAll(); }}

function def(){ return {
  brand:{x:24,y:18,title:"MySale",logo:"",lockBrand:false,lockLogo:false},
  theme:{bg1:"#F8D49A",bg2:"#F2B35E",surface:"#FFFFFF",text:"#2A2A2A",accent:"#FF7A00",radius:16,cols:4},
  flags:{freeMove:false,search:true},
  cards:[
    {id:id(),title:"–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å",hint:"–ö–≤–∞—Ä—Ç–∏—Ä—ã, –¥–æ–º–∞, –∫–æ–º–º–µ—Ä—Ü–∏—è",icon:"üè†",link:"https://example.com/real-estate",x:420,y:220,w:260,h:120,r:16,shape:"rounded",border:"#E5E5E5"},
    {id:id(),title:"–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",hint:"–õ–µ–≥–∫–æ–≤—ã–µ, –≥—Ä—É–∑–æ–≤—ã–µ",icon:"üöó",link:"https://example.com/cars",x:330,y:360,w:260,h:120,r:16,shape:"rounded",border:"#E5E5E5"},
    {id:id(),title:"–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",hint:"–¢–µ–ª–µ—Ñ–æ–Ω—ã –∏ –ü–ö",icon:"üíª",link:"https://example.com/elec",x:640,y:360,w:260,h:120,r:16,shape:"rounded",border:"#E5E5E5"}
  ]
};}

function id(){return Math.random().toString(36).slice(2,9)}
function deep(o){return JSON.parse(JSON.stringify(o))}
function save(){localStorage.setItem("mysale_admin_state",JSON.stringify(state))}
function load(){try{return JSON.parse(localStorage.getItem("mysale_admin_state")||"")}catch(e){return null}}
function cssVar(n,v){document.documentElement.style.setProperty(n,v)}

// Export/Import
$('#btnExport').onclick=()=>{const blob=new Blob([JSON.stringify(state,null,2)],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='mysale_vitrine.json';a.click();URL.revokeObjectURL(a.href)};
$('#btnImport').onclick=()=>$('#fileImport').click();
$('#fileImport').onchange=e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=()=>{try{state=JSON.parse(r.result);pushH();save();renderAll()}catch(err){alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: '+err.message)}};r.readAsText(f)};

$('#btnUndo').onclick=undo; $('#btnRedo').onclick=redo;

// Brand
$('#brandTitle').oninput=e=>{state.brand.title=e.target.value;updBrand();pushH();save()}
$('#logoInput').onchange=e=>{const f=e.target.files[0];if(!f)return;const fr=new FileReader();fr.onload=()=>{state.brand.logo=fr.result;updBrand();pushH();save()};fr.readAsDataURL(f)}
$('#lockBrand').onchange=e=>{state.brand.lockBrand=e.target.checked;save()}
$('#lockLogo').onchange=e=>{state.brand.lockLogo=e.target.checked;save()}

// Theme
$('#clrBg1').oninput=e=>{state.theme.bg1=e.target.value;applyTheme();pushH();save()}
$('#clrBg2').oninput=e=>{state.theme.bg2=e.target.value;applyTheme();pushH();save()}
$('#clrSurface').oninput=e=>{state.theme.surface=e.target.value;applyTheme();pushH();save()}
$('#clrText').oninput=e=>{state.theme.text=e.target.value;applyTheme();pushH();save()}
$('#clrAccent').oninput=e=>{state.theme.accent=e.target.value;applyTheme();pushH();save()}
$('#radius').oninput=e=>{state.theme.radius=+e.target.value||0;applyTheme();pushH();save()}
$('#cols').oninput=e=>{state.theme.cols=+e.target.value||4;applyTheme();pushH();save()}

// Mode
$('#freeMove').onchange=e=>{state.flags.freeMove=e.target.checked;save();renderCards()}
$('#btnResetPos').onclick=()=>{state.cards.forEach(c=>{c.x=0;c.y=0});pushH();save();renderCards()}

// Search
$('#searchMode').onchange=e=>{state.flags.search=e.target.value==='on';renderSearch();save()}
$('#searchClear').onclick=()=>{$('#searchInput').value='';filterCards('')}
$('#searchInput').oninput=e=>filterCards(e.target.value)

// Cards add/del
$('#btnAdd').onclick=()=>{const c={id:id(),title:'–ù–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞',hint:'–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫',icon:'‚ú®',link:'',x:30+Math.random()*400,y:180+Math.random()*280,w:260,h:120,r:state.theme.radius,shape:'rounded',border:'#E5E5E5'};state.cards.push(c);selectCard(c.id);pushH();save();renderCards()}
$('#btnDel').onclick=()=>{if(!selId)return;state.cards=state.cards.filter(c=>c.id!==selId);selId=null;$('#cardEditor').style.display='none';pushH();save();renderCards()}

// Card editor
const flds=['edTitle','edHint','edIcon','edLink','edW','edH','edR','edBorder']
flds.forEach(id=>{$('#'+id).oninput=e=>{const c=cur();if(!c)return;
  if(id==='edW')c.w=Math.max(120,Math.min(680,+e.target.value||260));
  else if(id==='edH')c.h=Math.max(110,Math.min(420,+e.target.value||120));
  else if(id==='edR')c.r=Math.max(0,Math.min(999,+e.target.value||16));
  else if(id==='edTitle')c.title=e.target.value;
  else if(id==='edHint')c.hint=e.target.value;
  else if(id==='edIcon')c.icon=e.target.value;
  else if(id==='edLink')c.link=e.target.value.trim();
  else if(id==='edBorder')c.border=e.target.value;
  pushH();save();renderCards()
}})
$('#edShape').onchange=e=>{const c=cur();if(!c)return;c.shape=e.target.value;pushH();save();renderCards()}

// Render
function applyTheme(){cssVar('--bg1',state.theme.bg1);cssVar('--bg2',state.theme.bg2);cssVar('--surface',state.theme.surface);cssVar('--text',state.theme.text);cssVar('--accent',state.theme.accent);cssVar('--radius',state.theme.radius+'px');$('#grid').style.setProperty('--cols',state.theme.cols)}
function updBrand(){const bt=$('#brandTitleX');const t=state.brand.title||'MySale';const a=t.slice(0,2),b=t.slice(2)||'';bt.innerHTML=`<span class="green">${esc(a)}</span><span class="orange">${esc(b)}</span>`;$('#brandTitle').value=t; if(state.brand.logo){$('#logoImg').src=state.brand.logo;$('#logoImg').style.display='block'}else{$('#logoImg').style.display='none'};const box=$('#brandArea');box.style.left=(state.brand.x||24)+'px';box.style.top=(state.brand.y||18)+'px'}
function renderSearch(){$('#searchWrap').style.display=state.flags.search?'block':'none'}

function renderCards(){
  const grid=$('#grid');grid.innerHTML='';const fm=state.flags.freeMove;grid.style.position=fm?'relative':'unset';
  state.cards.forEach(c=>{
    const el=document.createElement('article');el.className='card shadow';if(c.shape==='circle')el.classList.add('circle');if(c.shape==='oval')el.classList.add('oval');if(c.shape==='pill')el.classList.add('pill');
    el.style.width=(c.shape==='circle'?Math.min(c.w,c.h):c.w)+'px';el.style.height=(c.shape==='circle'?Math.min(c.w,c.h):c.h)+'px';
    el.style.borderRadius=(c.shape==='rounded')?(c.r||state.theme.radius)+'px':(c.shape==='pill'||c.shape==='oval'||c.shape==='circle')?'999px':(c.r||state.theme.radius)+'px';
    el.style.borderColor=c.border||'#E5E5E5';el.style.borderStyle='solid';el.style.borderWidth='1px';el.dataset.id=c.id;
    if(fm){el.style.position='absolute';el.style.left=(c.x||0)+'px';el.style.top=(c.y||0)+'px';const drag=document.createElement('div');drag.className='handle';el.appendChild(drag);makeDrag(drag,(dx,dy)=>{c.x=Math.max(0,(c.x||0)+dx);c.y=Math.max(0,(c.y||0)+dy);el.style.left=c.x+'px';el.style.top=c.y+'px'})}
    const corner=document.createElement('a');corner.className='corner';corner.innerHTML='üîó';corner.href=c.link||'#';corner.target='_blank';corner.rel='noopener';el.appendChild(corner);
    const icon=document.createElement('div');icon.className='icon';icon.textContent=c.icon||'‚Ä¢';el.appendChild(icon);
    const h4=document.createElement('h4');h4.textContent=c.title||'';el.appendChild(h4);
    const p=document.createElement('p');p.textContent=c.hint||'';el.appendChild(p);
    el.addEventListener('click',ev=>{if(state.flags.freeMove)return;if(c.link&&/^https?:\/\//i.test(c.link))window.open(c.link,'_blank','noopener')});
    el.addEventListener('mousedown',()=>sel(c.id));grid.appendChild(el);
  })
}

let selId=null; function cur(){return state.cards.find(c=>c.id===selId)}
function sel(id){selId=id;const c=cur();if(!c){$('#cardEditor').style.display='none';return}$('#cardEditor').style.display='block';$('#edTitle').value=c.title||'';$('#edHint').value=c.hint||'';$('#edIcon').value=c.icon||'';$('#edLink').value=c.link||'';$('#edW').value=c.w||260;$('#edH').value=c.h||120;$('#edR').value=c.r||state.theme.radius||16;$('#edBorder').value=c.border||'#E5E5E5';$('#edShape').value=c.shape||'rounded'}

function renderAll(){ $('#lockBrand').checked=!!state.brand.lockBrand;$('#lockLogo').checked=!!state.brand.lockLogo;$('#brandTitle').value=state.brand.title||'MySale';$('#clrBg1').value=state.theme.bg1;$('#clrBg2').value=state.theme.bg2;$('#clrSurface').value=state.theme.surface;$('#clrText').value=state.theme.text;$('#clrAccent').value=state.theme.accent;$('#radius').value=state.theme.radius;$('#cols').value=state.theme.cols;$('#freeMove').checked=!!state.flags.freeMove;$('#searchMode').value=state.flags.search?'on':'off';applyTheme();updBrand();renderSearch();renderCards()}

// brand drag
(function(){const host=$('#brandArea');makeDrag($('#brandHandle'),(dx,dy)=>{if(state.brand.lockBrand&&state.brand.lockLogo)return;state.brand.x=Math.max(0,(state.brand.x||0)+dx);state.brand.y=Math.max(0,(state.brand.y||0)+dy);host.style.left=state.brand.x+'px';host.style.top=state.brand.y+'px'})})();
function makeDrag(target,cb){let sx=0,sy=0,drag=false;target.addEventListener('mousedown',e=>{drag=true;sx=e.clientX;sy=e.clientY;e.preventDefault()});window.addEventListener('mousemove',e=>{if(!drag)return;const dx=e.clientX-sx,dy=e.clientY-sy;sx=e.clientX;sy=e.clientY;cb(dx,dy)});window.addEventListener('mouseup',()=>{if(drag){drag=false;pushH();save()}})}
function filterCards(q){q=(q||'').trim().toLowerCase(); $$('#grid .card').forEach(el=>{const c=state.cards.find(x=>x.id===el.dataset.id);const str=(c.title+' '+c.hint).toLowerCase();el.style.display=q?(str.includes(q)?'':''):''})}
function esc(s){return String(s).replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",""":"&quot;","'":"&#39;"}[m]))}
applyTheme();renderAll();
</script>
</body>
</html>
